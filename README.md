# inventory-management

Тестовый сервис управления остатками товаров - 217.171.146.85:3000

**inventory-management** — это серверное приложение, написанное на Node.js, которое предоставляет API для работы с распределением товаров и их количества по магазинам. Оно работает с использованием СУБД PostgreSQL для хранения данных и включает в себя базовую структуру для взаимодействия с клиентами через REST API.

## Описание

Сервис включает в себя несколько маршрутов для работы с данными:

- \*\*/shop — добавление магазина.
- **/product** — добавление товара.
- **/stocks/add_stocks** — добавление товара в магазин.
- **/stocks/inc_stocks** — увеличение остатков товара в магазине.
- **/stocks/dec_stocks** — уменьшение остатков товара в магазине.

При отсутствии нужной БД в СУБД, сервис изначально создает ее, а затем создает нужные таблицы в БД.
(shops, products, stock)

## Требования

- **Node.js** (версии 16.x и выше)
- **PostgreSQL** для работы с базой данных

## Установка и запуск

### 1. Клонируйте репозиторий

```bash
git clone https://github.com/your-username/remainder.git
cd remainder
```

### 2. Установите зависимости

Убедитесь, что у вас установлен [npm](https://www.npmjs.com/) или [yarn](https://yarnpkg.com/).

```bash
npm install
```

### 3. Настройка окружения

Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные:

```
URL=localhost
PORT=3000
HISTORY_URL=http://your-history-service-url
HISTORY_PORT=your-history-service-port
DB_NAME_MAIN=your-main-database-name
DB_USER=your-database-username
DB_HOST=localhost
DB_NAME=your-database-name
DB_PASSWORD=your-database-password
DB_PORT=5432
```

Эти переменные конфигурируют параметры сервера и подключения к базе данных.

### 4. Запуск приложения

Для запуска в режиме разработки используйте `nodemon`:

```bash
npm run dev
```

Для запуска в продакшн-режиме:

```bash
npm start
```

Сервер будет доступен по адресу `http://localhost:3000`.

### 5. Остановка сервера

Для корректного завершения работы сервера можно использовать комбинацию клавиш `Ctrl+C`. Сервер корректно закроет все соединения с базой данных перед остановкой.

## Структура проекта

- **`/src`** — исходный код приложения.
  - **`/controllers`** — контроллеры для обработки запросов.-
  - **`/router`** — маршруты для обработки запросов.
  - **`/utils`** — вспомогательные функции (инициализация БД, запуск сервера, валидация).
- **`/public`** — статические файлы для фронтенда.

---
